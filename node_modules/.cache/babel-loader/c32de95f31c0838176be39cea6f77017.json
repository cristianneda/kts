{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Cristian/Desktop/AttaSystems/kitesurf/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Cristian/Desktop/AttaSystems/kitesurf/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{GoogleMap,useJsApiLoader,Marker,InfoWindow}from\"@react-google-maps/api\";import nextId from\"react-id-generator\";import MapStyle from\"../../Utils/MapStyle\";import\"../../Utils/kitesurfing-surf-svgrepo-com.svg\";import staroff from\"../../Utils/staroff.png\";import staron from\"../../Utils/staron.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Map=function Map(props){var spots=props.spots;var setSpots=props.setSpots;var mapContainerStyle={width:\"100vw\",height:\"40vh\"};var center={lat:44.379554,lng:25.947364};var options={styles:MapStyle,disableDefaultUI:true,zoomControl:true};console.log(spots);var _useJsApiLoader=useJsApiLoader({id:\"google-map-script\",googleMapsApiKey:\"AIzaSyBNXDGVgUSd4hFBFpOo7ttaomYfNV9mAUA\"}),isLoaded=_useJsApiLoader.isLoaded;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),selected=_React$useState2[0],setSelected=_React$useState2[1];var onMapClick=React.useCallback(function(event){setSpots(function(current){return[].concat(_toConsumableArray(current),[{id:nextId(),name:\"User\",lat:event.latLng.lat(),lng:event.latLng.lng(),time:new Date()}]);});},[setSpots]);var mapRef=React.useRef();// eslint-disable-next-line react-hooks/exhaustive-deps\nvar onMapLoad=React.useCallback(function(map){mapRef.current=map;});// favourites\nvar _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),toggled=_React$useState4[0],setToggled=_React$useState4[1];var toggleImage=function toggleImage(){return setToggled(!toggled);};return isLoaded?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(GoogleMap,{mapContainerStyle:mapContainerStyle,zoom:2,center:center,options:options,onClick:onMapClick,onLoad:onMapLoad,children:[spots.map(function(spot){return/*#__PURE__*/_jsx(Marker,{position:{lat:Number(spot.lat),lng:Number(spot.lng)},onClick:function onClick(){setSelected(spot);}},spot.id);}),selected?/*#__PURE__*/_jsx(InfoWindow,{position:{lat:Number(selected.lat),lng:Number(selected.lng)},onCloseClick:function onCloseClick(){setSelected(null);},onClick:true,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"rounded-lg shadow-lg bg-white max-w-xs h-auto\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#!\",children:/*#__PURE__*/_jsx(\"img\",{class:\"box-border rounded h-28 w-80 \",w:true,src:\"https://www.ikointl.com/sites/default/files/Newsletter%20Italy2.jpg\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"text-gray-900 text-xl font-medium mb-2\",children:selected.country}),/*#__PURE__*/_jsxs(\"div\",{children:[toggled&&/*#__PURE__*/_jsx(\"img\",{width:25,height:23,src:staron,alt:\"Cat\"}),!toggled&&/*#__PURE__*/_jsx(\"img\",{width:25,height:23,src:staroff,alt:\"Cat\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-gray-700 text-base mb-4\",children:[\"This beautiful spot was added by \",selected.name,\". The Wind probability here is \",selected.probability,\"% and the best month to be here is \",selected.month,\".\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleImage,\"data-mdb-ripple\":\"true\",\"data-mdb-ripple-color\":\"light\",class:\"inline-block px-4 py-3 bg-teal-500 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-teal-700 hover:shadow-lg focus:bg-teal-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-teal-700 active:shadow-lg transition duration-150 ease-in-out\",children:\"Add to Favourites\"})]})]})})})}):null]})}):/*#__PURE__*/_jsx(_Fragment,{});};export default Map;","map":{"version":3,"names":["React","GoogleMap","useJsApiLoader","Marker","InfoWindow","nextId","MapStyle","staroff","staron","Map","props","spots","setSpots","mapContainerStyle","width","height","center","lat","lng","options","styles","disableDefaultUI","zoomControl","console","log","id","googleMapsApiKey","isLoaded","useState","selected","setSelected","onMapClick","useCallback","event","current","name","latLng","time","Date","mapRef","useRef","onMapLoad","map","toggled","setToggled","toggleImage","spot","Number","country","probability","month"],"sources":["C:/Users/Cristian/Desktop/AttaSystems/kitesurf/src/components/Pages/Map.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  GoogleMap,\r\n  useJsApiLoader,\r\n  Marker,\r\n  InfoWindow,\r\n} from \"@react-google-maps/api\";\r\nimport nextId from \"react-id-generator\";\r\nimport MapStyle from \"../../Utils/MapStyle\";\r\nimport \"../../Utils/kitesurfing-surf-svgrepo-com.svg\";\r\nimport staroff from \"../../Utils/staroff.png\"\r\nimport staron from \"../../Utils/staron.png\"\r\n\r\n\r\nconst Map = (props) => {\r\n  \r\n  let spots = props.spots;\r\n  let setSpots = props.setSpots;\r\n  \r\n  const mapContainerStyle = {\r\n    width: \"100vw\",\r\n    height: \"40vh\",\r\n  };\r\n  const center = {\r\n    lat: 44.379554,\r\n    lng: 25.947364,\r\n  };\r\n\r\n  const options = {\r\n    styles: MapStyle,\r\n    disableDefaultUI: true,\r\n    zoomControl: true,\r\n  };\r\nconsole.log(spots)\r\n  const { isLoaded } = useJsApiLoader({\r\n    id: \"google-map-script\",\r\n    googleMapsApiKey: \"AIzaSyBNXDGVgUSd4hFBFpOo7ttaomYfNV9mAUA\",\r\n  });\r\n\r\n  \r\n  const [selected, setSelected] = React.useState(null);\r\n\r\n  const onMapClick = React.useCallback(\r\n    (event) => {\r\n      setSpots((current) => [\r\n        ...current,\r\n        {\r\n          id: nextId(),\r\n          name: \"User\",\r\n          lat: event.latLng.lat(),\r\n          lng: event.latLng.lng(),\r\n          time: new Date(),\r\n        },\r\n      ]);\r\n    },\r\n    [setSpots]\r\n  );\r\n\r\n  const mapRef = React.useRef();\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const onMapLoad = React.useCallback((map) => {\r\n    mapRef.current = map;\r\n  });\r\n\r\n  // favourites\r\n  const [toggled, setToggled] = React.useState(false);\r\n  const toggleImage = () => setToggled(!toggled);\r\n\r\n  \r\n  return isLoaded ? (\r\n    <div>\r\n      <GoogleMap\r\n        mapContainerStyle={mapContainerStyle}\r\n        zoom={2}\r\n        center={center}\r\n        options={options}\r\n        onClick={onMapClick}\r\n        onLoad={onMapLoad}\r\n      >\r\n        {spots.map((spot) => {\r\n          return (\r\n            <Marker\r\n              key={spot.id}\r\n              position={{ lat: Number(spot.lat), lng: Number(spot.lng) }}\r\n              onClick={() => {\r\n                setSelected(spot);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n\r\n        {selected ? (\r\n          <InfoWindow\r\n            position={{ lat: Number(selected.lat), lng: Number(selected.lng) }}\r\n            onCloseClick={() => {\r\n              setSelected(null);\r\n            }}\r\n            onClick\r\n          >\r\n            <div>\r\n              <div class=\"flex justify-center\">\r\n                <div class=\"rounded-lg shadow-lg bg-white max-w-xs h-auto\">\r\n                  <a href=\"#!\">\r\n                    <img\r\n                      class=\"box-border rounded h-28 w-80 \"\r\n                      w\r\n                      src=\"https://www.ikointl.com/sites/default/files/Newsletter%20Italy2.jpg\"\r\n                      alt=\"\"\r\n                    />\r\n                  </a>\r\n                  <div class=\"p-3\">\r\n                    <div class=\"flex justify-between\">\r\n                      <h5 class=\"text-gray-900 text-xl font-medium mb-2\">\r\n                        {selected.country}\r\n                      </h5>\r\n                      <div>\r\n                      \r\n                      {toggled && <img width={25} height={23} src={staron} alt=\"Cat\" />}\r\n                      {!toggled && <img width={25} height={23} src={staroff} alt=\"Cat\" />}\r\n                      \r\n                      </div>\r\n                    </div>\r\n                    <p class=\"text-gray-700 text-base mb-4\">\r\n                      This beautiful spot was added by {selected.name}. The Wind\r\n                      probability here is {selected.probability}% and the best\r\n                      month to be here is {selected.month}.\r\n                    </p>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={toggleImage}\r\n                      data-mdb-ripple=\"true\"\r\n                      data-mdb-ripple-color=\"light\"\r\n                      class=\"inline-block px-4 py-3 bg-teal-500 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-teal-700 hover:shadow-lg focus:bg-teal-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-teal-700 active:shadow-lg transition duration-150 ease-in-out\"\r\n                    >\r\n                      Add to Favourites\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </InfoWindow>\r\n        ) : null}\r\n      </GoogleMap>\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}